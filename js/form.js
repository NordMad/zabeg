"use strict";!function(){var e,i,a,r=document.querySelector(".application__form"),n=r.querySelectorAll(".application__select-list"),l=(r.querySelectorAll(".application__participant-item--distance"),r.querySelector(".application__total-amount"),r.querySelector(".application__party")),c=r.querySelector(".application__buttons-block"),p=r.querySelectorAll(".application__participant"),o=function(){for(var t=0;t<n.length;t++){var e=n[t];e.classList.contains("application__select-list--open")&&e.classList.remove("application__select-list--open")}},s=function(t){for(var e=0;e<t.length;e++)if(t[e].checked)var i=t[e].value;return i},_={baby:{2:0,10:0},child:{2:"150",10:"150"},student:{2:"350",10:"350"},adult:{2:"350",10:"500"},pensioner:{2:"350",10:"350"},fun:{2:"300",10:"300"}};r.addEventListener("mouseup",function(t){var e=t.target,i=e.parentNode.parentNode;p=r.querySelectorAll(".application__participant"),e.classList.contains("application__select-label")&&!i.classList.contains("application__select-list--open")?(o(),i.classList.add("application__select-list--open")):e.classList.contains("application__select-label")?i.classList.remove("application__select-list--open"):o(),e.classList.contains("application__button--add")&&p.length<10&&l.insertBefore(y(),c),e.classList.contains("application__button--remove")&&1<p.length&&l.removeChild(p[p.length-1])}),p.forEach(function(t){e=t.querySelectorAll(".application__select-radio--category"),i=t.querySelectorAll(".application__select-radio--distance"),a=t.querySelector(".application__participant-item--distance"),t.addEventListener("change",function(){var t=_[s(e)][s(i)];a.dataset.price=0===a?"бeсплатно":t+"руб"})});var u=document.querySelector("template").content.querySelector(".application__participant"),d=["baby","child","student","adult","pensioner","fun","two","ten"],y=function(){var t=u.cloneNode(!0),e=(p.length+1).toString(),i=t.querySelector(".application__label"),a=t.querySelector(".application__input"),n=t.querySelectorAll(".application__select-item");i.setAttribute("for","participant-"+e),i.innerText="Участник № "+e,a.setAttribute("id","participant-"+e),a.setAttribute("name","participant-"+e);for(var l=0;l<n.length;l++){var c=n[l].children[0],o=n[l].children[1];c.setAttribute("id",d[l]+"-"+e),c.setAttribute("name",d[l]+"-"+e),o.setAttribute("for",d[l]+"-"+e)}return p=r.querySelectorAll(".application__participant"),t}}();
